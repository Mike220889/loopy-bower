!function(a){var b=a.requestAnimationFrame,c=a.cancelAnimationFrame||a.cancelRequestAnimationFrame,d=function(){return"undefined"!=typeof a.performance&&a.performance.now?function(){return a.performance.now()}:function(){return a.Date.now()}}();!function(){for(var d=0,e=["webkit","moz","ms"],f=0;f<e.length&&!b;++f)b=a[e[f]+"RequestAnimationFrame"],c=a[e[f]+"CancelAnimationFrame"]||a[e[f]+"CancelRequestAnimationFrame"];b||(b=function(b){var c=(new Date).getTime(),e=Math.max(0,16-(c-d)),f=a.setTimeout(function(){b(c+e)},e);return d=c+e,f}),c||(c=function(a){clearTimeout(a)})}();var e={};e.request=function(c){var e=d();return b.call(a,function(){var a=d(),b=a-e;c(b)})},e.loop=function(e){var f,g;f=g=d();var h=!1,i={requestId:null,cancel:function(){c.call(a,this.requestId),h=!0},frame:0},j=function(){var c=d(),k=c-g,l=c-f;e.call(i,k,l),i.frame++,g=c,h||(i.requestId=b.call(a,j))};return i.requestId=b.call(a,j),i},e.cancel=function(b){c.call(a,b)},a.loopy=e,"function"==typeof a.define&&a.define.amd&&a.define("loopy",[],function(){return a.loopy})}(window);